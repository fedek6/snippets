{
    "componentChunkName": "component---src-pages-mdx-fields-category-mdx-fields-sub-category-mdx-fields-short-slug-js",
    "path": "/javascript/advanced/asynchronous-chunking/",
    "result": {"data":{"mdx":{"frontmatter":{"title":"Asynchronous chunking","date":"February 11, 2022","description":"Example of asynchronous chunking"},"fields":{"subCategory":"advanced"},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Asynchronous chunking\",\n  \"date\": \"2022-02-11\",\n  \"description\": \"Example of asynchronous chunking\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"Asynchronous chunking\"), mdx(LiveExample, {\n    link: \"https://jsfiddle.net/fedek6/306qb1cs/\",\n    mdxType: \"LiveExample\"\n  }), mdx(\"p\", null, \"Let's assume a following scenario:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"You have to take records from a local database (or any data storage).\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"You need to send them to some kind of an API.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"You're limited to 10 simultaneous requests.\")), mdx(\"p\", null, \"What should you do? \\uD83E\\uDD14\"), mdx(\"p\", null, \"The answer is to split your data into chunks and send them asynchronously in parts.\"), mdx(\"p\", null, \"This basic example splits array into parts and simulates delayed exponentiation (promise based).\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"const chunkSize = 10;\\n\\nconst arraySize = 100;\\n\\n// Quite big array of consecutive numbers\\nconst bigArray = Array(arraySize)\\n  .fill(1)\\n  .map((e, i) => e * i);\\n\\n/**\\n * Falsy promise function.\\n * Random delay is added only for test purposes.\\n */\\nconst powPromise = (num) => {\\n  return new Promise((resolve) => {\\n    // from 0.1 to 1 second\\n    const randomTimeout = Math.floor(Math.random() * (1000 - 100 + 1)) + 100;\\n\\n    setTimeout(() => {\\n      resolve(num ** 2);\\n    }, randomTimeout);\\n  });\\n};\\n\\n/**\\n * Chunks generator\\n * {url} https://stackoverflow.com/a/55435856\\n */\\nfunction* chunks(arr, n) {\\n  for (let i = 0; i < arr.length; i += n) {\\n    yield arr.slice(i, i + n);\\n  }\\n}\\n\\n/**\\n * This could be replaced with for ... await\\n * But this feature is too new for jsfiddle :(\\n */\\n(async () => {\\n  let i = 0;\\n  // Do only then at time.\\n  for (const chunk of chunks(bigArray, chunkSize)) {\\n    const promises = chunk.map((n) => powPromise(n));\\n    const powResults = await Promise.all(promises);\\n    console.log(powResults); // 100,121,144,169,196,225,256,289,324,361 etc.\\n  }\\n})();\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;"},"allMdx":{"group":[{"fieldValue":"advanced","edges":[{"node":{"frontmatter":{"title":"Asynchronous chunking"},"fields":{"shortSlug":"asynchronous-chunking","subCategory":"advanced"},"slug":"javascript/advanced/asynchronous-chunking/"}}],"totalCount":1},{"fieldValue":"basics","edges":[{"node":{"frontmatter":{"title":"Promises"},"fields":{"shortSlug":"promises","subCategory":"basics"},"slug":"javascript/basics/promises/"}},{"node":{"frontmatter":{"title":"instanceof operator"},"fields":{"shortSlug":"instanceof-operator","subCategory":"basics"},"slug":"javascript/basics/instanceof-operator/"}},{"node":{"frontmatter":{"title":"in operator"},"fields":{"shortSlug":"in-operator","subCategory":"basics"},"slug":"javascript/basics/in-operator/"}},{"node":{"frontmatter":{"title":"Nullish Coalescing Operator"},"fields":{"shortSlug":"nullish-coalescing-operator","subCategory":"basics"},"slug":"javascript/basics/nullish-coalescing-operator/"}},{"node":{"frontmatter":{"title":"Optional chaining"},"fields":{"shortSlug":"optional-chaining","subCategory":"basics"},"slug":"javascript/basics/optional-chaining/"}},{"node":{"frontmatter":{"title":"Destructuring assignment"},"fields":{"shortSlug":"destructuring","subCategory":"basics"},"slug":"javascript/basics/destructuring/"}},{"node":{"frontmatter":{"title":"Symbols"},"fields":{"shortSlug":"symbols","subCategory":"basics"},"slug":"javascript/basics/symbols/"}}],"totalCount":7},{"fieldValue":"debug","edges":[{"node":{"frontmatter":{"title":"console.log usage"},"fields":{"shortSlug":"console-log","subCategory":"debug"},"slug":"javascript/debug/console-log/"}}],"totalCount":1},{"fieldValue":"dom","edges":[{"node":{"frontmatter":{"title":"querySelector"},"fields":{"shortSlug":"query-selector","subCategory":"dom"},"slug":"javascript/dom/query-selector/"}}],"totalCount":1},{"fieldValue":"events","edges":[{"node":{"frontmatter":{"title":"Long mouse event"},"fields":{"shortSlug":"long-mouse-event","subCategory":"events"},"slug":"javascript/events/long-mouse-event/"}},{"node":{"frontmatter":{"title":"Event delegation"},"fields":{"shortSlug":"event-delegation","subCategory":"events"},"slug":"javascript/events/event-delegation/"}}],"totalCount":2},{"fieldValue":"math","edges":[{"node":{"frontmatter":{"title":"Random number in the range"},"fields":{"shortSlug":"random-number","subCategory":"math"},"slug":"javascript/math/random-number/"}}],"totalCount":1}]}},"pageContext":{"id":"8780f197-4795-5603-a168-c515945c3dc2","fields__category":"javascript","fields__subCategory":"advanced","fields__shortSlug":"asynchronous-chunking","__params":{"fields__category":"javascript","fields__subCategory":"advanced","fields__shortSlug":"asynchronous-chunking"}}},
    "staticQueryHashes": ["2420640694"]}